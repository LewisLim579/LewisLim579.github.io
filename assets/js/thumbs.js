!function(t,i){"use strict";i.fancybox.defaults=i.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg viewBox="0 0 120 120"><path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},i.fancybox.defaults);var s=function(t){this.init(t)};i.extend(s.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var i=this;i.instance=t,t.Thumbs=i;var s=t.group[0],n=t.group[1];i.opts=t.group[t.currIndex].opts.thumbs,i.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]"),i.opts&&s&&n&&("image"==s.type||s.opts.thumb||s.opts.$thumb)&&("image"==n.type||n.opts.thumb||n.opts.$thumb)?(i.$button.show().on("click",function(){i.toggle()}),i.isActive=!0):i.$button.hide()},create:function(){var t,s,n=this,o=n.instance,e=n.opts.parentEl;n.$grid=i('<div class="fancybox-thumbs fancybox-thumbs-'+n.opts.axis+'"></div>').appendTo(o.$refs.container.find(e).addBack().filter(e)),t="<ul>",i.each(o.group,function(i,n){s=n.opts.thumb||(n.opts.$thumb?n.opts.$thumb.attr("src"):null),s||"image"!==n.type||(s=n.src),s&&s.length&&(t+='<li data-index="'+i+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+s+'" /></li>')}),t+="</ul>",n.$list=i(t).appendTo(n.$grid).on("click","li",function(){o.jumpTo(i(this).data("index"))}),n.$list.find("img").hide().one("load",function(){var t,s,n,o,e=i(this).parent().removeClass("fancybox-thumbs-loading"),a=e.outerWidth(),h=e.outerHeight();t=this.naturalWidth||this.width,s=this.naturalHeight||this.height,n=t/a,o=s/h,n>=1&&o>=1&&(n>o?(t/=o,s=h):(t=a,s/=n)),i(this).css({width:Math.floor(t),height:Math.floor(s),"margin-top":s>h?Math.floor(.3*h-.3*s):Math.floor(.5*h-.5*s),"margin-left":Math.floor(.5*a-.5*t)}).show()}).each(function(){this.src=i(this).data("src")}),"x"===n.opts.axis&&n.$list.width(parseInt(n.$grid.css("padding-right"))+o.group.length*n.$list.children().eq(0).outerWidth(!0)+"px")},focus:function(t){var i,s,n=this,o=n.$list;n.instance.current&&(i=o.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+n.instance.current.index+'"]').addClass("fancybox-thumbs-active"),s=i.position(),"y"===n.opts.axis&&(s.top<0||s.top>o.height()-i.outerHeight())?o.stop().animate({scrollTop:o.scrollTop()+s.top},t):"x"===n.opts.axis&&(s.left<o.parent().scrollLeft()||s.left>o.parent().scrollLeft()+(o.parent().width()-i.outerWidth()))&&o.parent().stop().animate({scrollLeft:s.left},t))},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),i(t).on({"onInit.fb":function(t,i){var n;i&&!i.Thumbs&&(n=new s(i),n.isActive&&!0===n.opts.autoStart&&n.show())},"beforeShow.fb":function(t,i,s,n){var o=i&&i.Thumbs;o&&o.isVisible&&o.focus(n?0:250)},"afterKeydown.fb":function(t,i,s,n,o){var e=i&&i.Thumbs;e&&e.isActive&&71===o&&(n.preventDefault(),e.toggle())},"beforeClose.fb":function(t,i){var s=i&&i.Thumbs;s&&s.isVisible&&!1!==s.opts.hideOnClose&&s.$grid.hide()}})}(document,window.jQuery);